<!DOCTYPE html>
<html>
<head th:replace="fragments/header :: header (title=#{html.page.titles.list.title})" />
<body>
	<div class="wrapper">
		<header th:replace="fragments/navbar :: navbar-header" />
		<aside th:replace="fragments/navbar :: navbar-aside (page = 'titles')" />

		<section>
			<div class="content-wrapper">
				<div class="panel panel-default">
					<div class="panel-heading"></div>
					<div class="panel-body">

						<div class="panel-group">
							<div class="panel panel-default">
								<div class="panel-body">
									<form class="form-horizontal">
										<fieldset>
											<div class="form-group">
												<label class="col-sm-2 control-label" th:text="#{html.entity.ou.name}" />
												<div class="col-sm-8">
													<input th:field="${title.name}" class="form-control" disabled="disabled" />
												</div>
											</div>
										</fieldset>

										<fieldset th:if="${editable}">
											<div class="form-group">
												<label class="col-sm-2 control-label" th:text="#{html.entity.view.action.label}" />
												<div class="col-sm-8">
													<a th:href="@{/ui/titles/edit/{id}(id=${title.uuid})}">
														<span class="btn btn-lg btn-primary" th:text="#{html.entity.view.action.edit}" />
													</a>
												</div>
											</div>
										</fieldset>
									</form>
								</div>
							</div>
						</div>

						<ul class="nav nav-tabs">
							<li class="active">
								<a data-toggle="tab" href="#roles_menu" th:text="#{html.page.ous.list.roles}"></a>
							</li>
							<li>
								<a data-toggle="tab" href="#groups_menu" th:text="#{html.page.ous.list.rolegroups}"></a>
							</li>
						</ul>

						<div class="tab-content">
							<div id="roles_menu" class="tab-pane fade in active">
								<table id="listTable1" class="table table-striped table-hover listTable">
									<thead>
										<tr>
											<th class="col-md-3" th:text="#{html.entity.rolegroup.name}" />
											<th class="col-md-2" th:text="#{html.entity.rolegroup.itsystem}" />
											<th class="col-md-2" th:text="#{html.entity.ou.count}" />
											<th class="col-md-5" th:text="#{html.entity.rolegroup.description}" />
										</tr>
									</thead>

									<tbody>
										<tr th:each="role : ${roles}">
											<td th:text="${role.userRole.name}" />
											<td th:text="${role.userRole.itSystem.name}" />
											<th:block th:switch="${#lists.size(role.ouUuids)}">
												<td th:case="0" th:text="#{html.entity.title.assigned.all}" />
												<td th:case="1" th:text="#{html.entity.title.assigned.one}" />
												<td th:case="*" th:text="#{html.entity.title.assigned.many(${#lists.size(role.ouUuids)})}" />
											</th:block>
											<td th:text="${role.userRole.description}" />
										</tr>
									</tbody>
								</table>
							</div>

							<div id="groups_menu" class="tab-pane fade">
								<table id="listTable2" class="table table-striped table-hover listTable">
									<thead>
										<tr>
											<th class="col-md-3" th:text="#{html.entity.rolegroup.name}" />
											<th class="col-md-2" th:text="#{html.entity.ou.count}" />
											<th class="col-md-7" th:text="#{html.entity.rolegroup.description}" />
										</tr>
									</thead>

									<tbody>
										<tr th:each="rolegroup : ${rolegroups}">
											<td th:text="${rolegroup.roleGroup.name}" />
											<th:block th:switch="${#lists.size(rolegroup.ouUuids)}">
												<td th:case="0" th:text="#{html.entity.title.assigned.all}" />
												<td th:case="1" th:text="#{html.entity.title.assigned.one}" />
												<td th:case="*" th:text="#{html.entity.title.assigned.many(${#lists.size(rolegroup.ouUuids)})}" />
											</th:block>
											<td th:text="${rolegroup.roleGroup.description}" />
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
	</div>

	<nav th:replace="fragments/footer :: footer" />
	
	<script th:replace="fragments/datatables :: datatables " />
</body>
</html>
